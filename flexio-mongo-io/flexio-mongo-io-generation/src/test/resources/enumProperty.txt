package org.generated.mongo;

import java.lang.Exception;
import java.lang.String;
import org.bson.Document;
import org.generated.Test;

public class TestMongoMapper {
  public Test toValue(Document document) {
    Test.Builder builder = Test.builder();
    if (document.get("p") != null) {
      try {
        String v = document.get("p").toString();
        Test.P e = Test.P.valueOf(v);
        builder.p(e);
      } catch (Exception e) {
        for (Test.P enumValue : Test.P.values()) {
          if (document.get("p").toString().equalsIgnoreCase(enumValue.name())) {
            builder.p(enumValue);
          }
        }
      }
    }
    return builder.build();
  }

  public Document toDocument(Test value) {
    Document document = new Document();
    if (value.p() != null) {
      if (value.p() != null) {
        document.put("p", value.p().name());
      }
    } else {
      document.put("p", null);
    }
    return document;
  }
}
